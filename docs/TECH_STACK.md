# 기술 스택 가이드

## 📋 개요

Terraform Proxmox Manager의 기술 스택과 각 컴포넌트의 역할, 설정 방법을 상세히 설명합니다.

## 🏗️ 전체 아키텍처

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   웹 브라우저    │    │   Flask 앱      │    │   Redis         │    │   Celery 워커   │
│   (Frontend)    │    │   (Backend)     │    │   (Message      │    │   (Task         │
│                 │    │                 │    │    Queue)       │    │    Processor)   │
└─────────────────┘    └─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │                       │
         │ 1. HTTP 요청         │                       │                       │
         ├──────────────────────►│                       │                       │
         │                       │ 2. Celery 태스크 큐에  │                       │
         │                       │    작업 추가           │                       │
         │                       ├──────────────────────►│                       │
         │                       │                       │ 3. 태스크 큐에서      │
         │                       │                       │    작업 가져오기      │
         │                       │                       ├──────────────────────►│
         │                       │                       │                       │
         │                       │                       │                       │ 4. Terraform 실행
         │                       │                       │                       │    (호스트 바이너리)
         │                       │                       │                       │
         │                       │ 5. 작업 완료 알림     │                       │
         │                       │◄──────────────────────┤◄──────────────────────┤
         │ 6. SSE 실시간 알림    │                       │                       │
         │◄─────────────────────┤                       │                       │
```

## 🔧 백엔드 기술 스택

### 1. Flask (웹 프레임워크)
- **버전**: Flask 2.3+
- **역할**: 웹 API 서버, 요청 처리, 세션 관리
- **특징**: 
  - RESTful API 제공
  - Blueprint 기반 모듈화
  - SQLAlchemy ORM 통합
  - SSE (Server-Sent Events) 지원

### 2. PostgreSQL (데이터베이스)
- **버전**: PostgreSQL 15+
- **역할**: 메인 데이터베이스 (SQLite에서 마이그레이션)
- **특징**:
  - ACID 트랜잭션 보장
  - 동시성 처리 최적화
  - 확장성과 성능
  - 백업 및 복구 지원

### 3. Redis (캐시 & 메시지 큐)
- **버전**: Redis 7+
- **역할**: 
  - Celery 브로커 (메시지 큐)
  - 세션 저장소
  - 캐싱 레이어
- **특징**:
  - 인메모리 데이터베이스
  - 고성능 키-값 저장소
  - Pub/Sub 메시징 지원

### 4. Celery (비동기 작업 처리)
- **버전**: Celery 5.3+
- **역할**: 비동기 작업 처리, 백그라운드 작업
- **특징**:
  - 분산 작업 큐
  - 작업 상태 추적
  - 실패 처리 및 재시도
  - 확장성

## 🎨 프론트엔드 기술 스택

### 1. HTML5 & CSS3
- **역할**: 웹 페이지 구조 및 스타일링
- **특징**:
  - 반응형 디자인
  - Bootstrap 5 프레임워크
  - 모바일 친화적 UI

### 2. JavaScript (ES6+)
- **역할**: 동적 UI 처리, API 통신
- **특징**:
  - jQuery 기반
  - AJAX 통신
  - SSE (Server-Sent Events) 클라이언트
  - 실시간 UI 업데이트

### 3. Bootstrap 5
- **역할**: UI 컴포넌트 및 스타일링
- **특징**:
  - 반응형 그리드 시스템
  - 컴포넌트 라이브러리
  - 테마 지원

## 🐳 컨테이너화 기술

### 1. Docker
- **역할**: 애플리케이션 컨테이너화
- **특징**:
  - 일관된 실행 환경
  - 의존성 격리
  - 배포 간소화

### 2. Docker Compose
- **역할**: 멀티 컨테이너 오케스트레이션
- **특징**:
  - 서비스 간 네트워킹
  - 볼륨 마운트
  - 환경 변수 관리

## 🔧 인프라스트럭처 도구

### 1. Terraform
- **버전**: Terraform 1.6+
- **역할**: 인프라스트럭처 프로비저닝
- **특징**:
  - 선언적 인프라 관리
  - 상태 관리
  - 계획 및 적용

### 2. Ansible
- **버전**: Ansible 2.14+
- **역할**: 구성 관리 및 자동화
- **특징**:
  - 에이전트 없는 구성 관리
  - 플레이북 기반 자동화
  - 동적 인벤토리 지원

### 3. Proxmox VE
- **역할**: 가상화 플랫폼
- **특징**:
  - KVM/QEMU 기반 가상화
  - LXC 컨테이너 지원
  - 클러스터링 지원

## 📊 모니터링 스택

### 1. Prometheus
- **역할**: 메트릭 수집 및 저장
- **특징**:
  - 시계열 데이터베이스
  - 쿼리 언어 (PromQL)
  - 알림 규칙 지원

### 2. Grafana
- **역할**: 시각화 및 대시보드
- **특징**:
  - 대화형 대시보드
  - 알림 및 알림 규칙
  - 플러그인 생태계

### 3. Node Exporter
- **역할**: 시스템 메트릭 수집
- **특징**:
  - 하드웨어 메트릭
  - 네트워크 메트릭
  - 파일시스템 메트릭

## 🔐 보안 및 비밀 관리

### 1. HashiCorp Vault
- **역할**: 비밀 관리 및 암호화
- **특징**:
  - 동적 비밀 생성
  - 암호화 서비스
  - 접근 제어

### 2. SSH 키 관리
- **역할**: 서버 접근 인증
- **특징**:
  - 공개키 암호화
  - 키 로테이션
  - 접근 제어

## 🔄 실시간 통신

### 1. Server-Sent Events (SSE)
- **역할**: 실시간 알림 전송
- **특징**:
  - 단방향 통신
  - 자동 재연결
  - 브라우저 네이티브 지원

### 2. WebSocket (선택사항)
- **역할**: 양방향 실시간 통신
- **특징**:
  - 낮은 지연시간
  - 양방향 통신
  - 실시간 협업

## 📈 성능 최적화

### 1. 캐싱 전략
- **Redis 캐싱**: 자주 조회되는 데이터
- **브라우저 캐싱**: 정적 리소스
- **CDN**: 글로벌 콘텐츠 배포

### 2. 데이터베이스 최적화
- **인덱싱**: 쿼리 성능 향상
- **연결 풀링**: 연결 관리 최적화
- **쿼리 최적화**: N+1 문제 해결

### 3. 비동기 처리
- **Celery 워커**: CPU 집약적 작업
- **백그라운드 작업**: 사용자 경험 향상
- **큐 관리**: 작업 우선순위 관리

## 🚀 배포 및 운영

### 1. CI/CD 파이프라인
- **Git**: 버전 관리
- **Docker**: 컨테이너화
- **Docker Compose**: 오케스트레이션

### 2. 로깅 및 모니터링
- **구조화된 로깅**: JSON 형식
- **중앙화된 로그**: ELK 스택 (선택사항)
- **메트릭 수집**: Prometheus

### 3. 백업 및 복구
- **데이터베이스 백업**: PostgreSQL 덤프
- **설정 백업**: 환경 변수 및 설정 파일
- **재해 복구**: 자동화된 복구 프로세스

## 🔧 개발 도구

### 1. 개발 환경
- **Python 3.10+**: 메인 개발 언어
- **pip**: 패키지 관리
- **venv**: 가상환경 관리

### 2. 코드 품질
- **PEP 8**: Python 코딩 스타일
- **Type Hints**: 타입 힌트
- **Docstrings**: 문서화

### 3. 테스트
- **pytest**: 단위 테스트
- **unittest**: 내장 테스트 프레임워크
- **Mock**: 테스트 더블

## 📚 문서화

### 1. API 문서
- **Swagger/OpenAPI**: API 명세
- **Postman**: API 테스트
- **curl**: 명령줄 테스트

### 2. 사용자 문서
- **Markdown**: 문서 형식
- **GitBook**: 문서 사이트 (선택사항)
- **Wiki**: 협업 문서

---

**최종 업데이트**: 2025-10-16  
**버전**: 2.0.0  
**주요 변경사항**: Celery/Redis 도입, PostgreSQL 마이그레이션, SSE 실시간 알림 시스템
